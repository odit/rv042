<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 Platinum Edition Client for FrameMaker 8.6.6597.0" />
    <meta name="TEMPLATEBASE" content="emwebh8-1-17" />
    <meta name="LASTUPDATED" content="07/26/10 15:44:03" />
    <title>Setting Up the DHCP Server or DHCP Relay </title>
    <!-- Copyright � 2002-2010, Cisco Systems, Inc. All rights reserved. -->

    <link rel="StyleSheet" href="document.css" type="text/css" />
    <link rel="StyleSheet" href="catalog.css" type="text/css" />


<script type="text/javascript" language="JavaScript1.2" src="expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="page.js"></script>

    <script type="text/javascript" language="JavaScript1.2">
     <!--
      function  WWNoOp() {}
      function  WWNoValue() { return ""; }

      var  VarDropDown;

      if (typeof(HTMLHelp_Object) != "undefined")
      {
        VarDropDown = new WWDropDown_Object();
      }
      else
      {
        VarDropDown = new Object();
        VarDropDown.fAnchorOpen  = WWNoOp;
        VarDropDown.fAnchorClose = WWNoOp;
        VarDropDown.fDIVOpen  = WWNoOp;
        VarDropDown.fDIVClose = WWNoOp;
      }
     // -->
    </script>

  
<SCRIPT language="javascript">
<!--
//  self.document.write("<link href='style.css' rel='stylesheet' type='text/css'>");
//  myid=15;
//  self.document.write("<script type='text/javascript' language='JavaScript' src='con_utils.js'></scr"+"ipt>");
//-->
</SCRIPT>
</head>

  <body onload="highlightSearchTerms();"; bgcolor="#ffffff">

    
    <blockquote>
    <a name="top"></a>

    
    


<a name="wp1075902"> </a><h1 class="pTitle">
Setting Up the DHCP Server or DHCP Relay

</h1>
<a name="wp1080537"> </a><p class="pBody">
Use the <em class="cEmphasis">DHCP &gt; DHCP Setup</em> page to configure this router as a DHCP (Dynamic 
Host Configuration Protocol) server or as a DHCP relay agent. A DHCP server 
automatically assigns available IP addresses to computers on your network. An 
address is &quot;leased&quot; to a client for a specified time, and then it expires and can be 
assigned to a different device. If a device needs to have an unchanging IP 
addresses, you can add the device to the Static IP list. Optionally, you can use the 
Static IP list to block access by devices that are not on the list or do not have the 
correct IP address.

</p>
<a name="wp1080539"> </a><p class="pBody">
If you have another DHCP server on your network, or you wish to assign IP 
addresses manually, you can disable the DHCP feature and enable DHCP Relay. 
For more information, see <a href="#wp1077885">Enabling DHCP Server or DHCP Relay</a>.

</p>
<a name="wp1086314"> </a><p class="pBodyAutonumNoRule">
<strong>NOTE	&nbsp;&nbsp;&nbsp;</strong> Before navigating away from this page, click <span style="font-weight: bold">Save</span> to save your settings, or click 
<b class="cBold">Cancel</b> to undo them. Any unsaved changes are abandoned.

</p>
<a name="wp1077885"> </a><h2 class="pHeading2">
Enabling DHCP Server or DHCP Relay
</h2>
<a name="wp1086051"> </a><p class="pBody">
Choose one of the following options:

</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1075280"> </a><li class="pSmartList1"><b class="cBold">Enable DHCP server: </b>When this feature is enabled, the router can 
dynamically assign IP addresses to up to 50 connected devices. 
</li>
<a name="wp1084559"> </a><p class="pListBodyLevel1">
<em class="cEmphasis">Required: </em>Enter the settings in the <b class="cBold">Dynamic IP</b><em class="cEmphasis"> </em>section of the page, as 
described below. Other sections of this page are optional.

</p>
<a name="wp1084292"> </a><li class="pSmartList1"><b class="cBold">Enable DHCP Relay: </b>If you have another DHCP server, enable DHCP Relay 
to allow this router to communicate the clients&#39; DHCP requests to the DHCP 
server. The DHCP Relay mechanism allows the DHCP clients and the DHCP 
server to be located on different networks. The DHCP clients will send 
DHCP discover broadcast packets to get IP addresses from the DHCP 
server. This router will act as DHCP Relay agent and send DHCP unicasts to 
DHCP server. 
</li>
<a name="wp1084579"> </a><p class="pListBodyLevel1">
<em class="cEmphasis">Required:</em> Enter the<b class="cBold"> DHCP Server IP Address</b>. Other sections of this page 
are optional.

</p>
</ul></div>
<a name="wp1083776"> </a><p class="pBodyAutonumNoRule">
<strong>NOTE	&nbsp;&nbsp;&nbsp;</strong> If you disable both DHCP server and DHCP Relay, configure each device on your 
network with a static IP address, subnet mask, and DNS settings. Make sure you do 
not assign the same IP address to different computers.

</p>
<a name="wp1084373"> </a><h2 class="pHeading2">
Dynamic IP (for DHCP Server only)
</h2>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1084707"> </a><li class="pSmartList1"><b class="cBold">Client Lease Time:</b> The Client Lease Time is the amount of time that a 
network user is allowed to connect to the router with the current dynamic IP 
address. Enter the amount of time in minutes. The range is 5-43,200 
minutes. The default is 1440 minutes, which is 24 hours. 
</li>
<a name="wp1084708"> </a><p class="pListBodyLevel1">
<b class="cBold">NOTE: </b>To receive an IP address from the DHCP server, a client device must 
be configured to obtain an IP address automatically from a DHCP server. By 
default, Windows computers are set to obtain an IP automatically.

</p>
<a name="wp1084709"> </a><li class="pSmartList1"><b class="cBold">Range Start </b>and <b class="cBold">Range End:</b> Enter a starting IP address and an ending IP 
address to create a range of IP addresses that can be assigned 
dynamically. The range can include up to 50 IP addresses, which is the 
maximum that the server can assign. The default range is 100-149. Make 
sure the router&#39;s LAN IP address is not in this dynamic IP range. For 
example, if the router uses the default LAN IP address, <span style="font-weight: bold">192.168.1.1</span>, then the 
starting value must be 192.168.1.2 or greater.
</li>
</ul></div>
<a name="wp1084705"> </a><h2 class="pHeading2">
DNS (for DHCP Server only)
</h2>
<a name="wp1084389"> </a><p class="pBody">
Optionally, enter the IP address of a <b class="cBold">DNS Server</b>. You also can enter a secondary 
DNS server. Specifying a DNS server can provide quicker access than using a 
DNS server that is dynamically assigned through the WAN settings. You can keep 
the default setting of 0.0.0.0 to use a dynamically assigned DNS server.

</p>
<a name="wp1077947"> </a><h2 class="pHeading2">
WINS (for DHCP Server Only)
</h2>
<a name="wp1084408"> </a><p class="pBody">
Optionally, enter the IP address of a <b class="cBold">WINS Server</b>.<b class="cBold"> </b>Windows Internet Naming 
Service resolves NetBIOS names to IP addresses. If you do not know the IP 
address of the WINS server, keep the default, 0.0.0.0.

</p>
<a name="wp1077855"> </a><p class="pBodyAutonumNoRule">
<strong>NOTE	&nbsp;&nbsp;&nbsp;</strong> To support NetBIOS for DHCP clients, the router uses two methods:

</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1077856"> </a><li class="pSmartList1">When the DHCP clients receive dynamic IP addresses from the router, it 
automatically includes the information of the WINS server to support 
NetBIOS. 
</li>
<a name="wp1077857"> </a><li class="pSmartList1">If a client has a static IP address, then the IP address, subnet mask, default 
gateway address, and DNS server settings must be configured on the 
Internet Protocol (TCP/IP) page of the Windows operating system. Then the 
WINS IP address must be configured on the advanced TCP/IP page. (For 
more information, refer to Windows Help.)
</li>
</ul></div>
<a name="wp1076163"> </a><h2 class="pHeading2">
Static IP Addresses
</h2>
<a name="wp1079316"> </a><p class="pBody">
When DHCP is enabled, you may wish to assign static IP addresses to certain 
devices, such as a web server or an FTP server. You can add up to 100 devices to 
the <em class="cEmphasis">Static IP</em> list.

</p>
<a name="wp1079370"> </a><p class="pBodyAutonumRel">
<strong>TIP	&nbsp;&nbsp;&nbsp;</strong> Ensure that each of these devices is configured to use this static IP address. For 
example, on a Windows computer, open the Local Area Connection Properties, 
select <b class="cBold">Internet Protocol (TCP/IP)</b>, and then click the <b class="cBold">Properties</b> button. Choose 
<b class="cBold">Use the following IP address</b>, and enter the IP address, subnet mask, and default 
gateway (the router IP address). Optionally, enter a preferred DNS server. 

</p>
<a name="wp1079371"> </a><p class="pBody">
Choose devices from a list or enter the device IP addresses and MAC addresses 
manually.

</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1076636"> </a><li class="pSmartList1"><a href="#wp1075635">Assigning static IP addresses by adding devices from a list</a>
</li>
<a name="wp1076647"> </a><li class="pSmartList1"><a href="#wp1076374">Assigning static IP addresses by entering devices manually</a>
</li>
<a name="wp1084853"> </a><li class="pSmartList1"><a href="#wp1076685">Using the Static IP List to Block Devices</a>
</li>
</ul></div>
<a name="wp1076326"> </a><p class="pBodyAutonumNoRule">
<strong>NOTE	&nbsp;&nbsp;&nbsp;</strong> You can use this feature even if the router is not the DHCP server.

</p>
<a name="wp1075635"> </a><h3 class="pHeading3">
<b class="cBold">Assigning static IP addresses by adding devices from a list</b>
</h3>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1076305"> </a><li class="pSmartList1">Click <span style="font-weight: bold">Show unknown MAC addresses</span>. The <em class="cEmphasis">IP &amp; MAC binding list</em> appears. If the 
web browser displays a message about the pop-up window, allow the blocked 
content. 
</li>
<a name="wp1075450"> </a><p class="pListBodyLevel1">
The devices are listed by the IP address and the MAC address. (Typically the MAC 
address appears on a label on the bottom panel or back panel of a device.) If 
needed, you can click <b class="cBold">Refresh</b> to update the data.

</p>
<a name="wp1049664"> </a><li class="pSmartList1">To select a device, first enter a descriptive <b class="cBold">Name</b>. Then check the <span style="font-weight: bold">Enable</span> box. 
Alternatively, select all devices in the list by clicking the check box at the top of the 
<em class="cEmphasis">Enable</em> column. 
</li>
<a name="wp1075499"> </a><li class="pSmartList1">Click <span style="font-weight: bold">OK</span> to add the devices to the <em class="cEmphasis">Static IP</em> list, or click <b class="cBold">Close</b> to close the pop-up 
window without adding the selected devices. After you click <b class="cBold">OK</b>, a message 
appears. The message includes important information. Read it before clicking <b class="cBold">OK</b>. 
Keep the browser open and wait until the selected MAC addresses appear in the 
<em class="cEmphasis">Static IP</em> list.
</li>
<a name="wp1079575"> </a><li class="pSmartList1">Modify or remove list entries, as needed: 
</li>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1079576"> </a><li class="pSmartList2"><b class="cBold">To modify the settings: </b>Click a device in the list. The information appears in the text fields. Make the changes, and then click <span style="font-weight: bold">Update</span>. If you do not need to make changes, you can click <b class="cBold">Add New</b> to de-select the entry and clear the text fields.</li>
<a name="wp1079935"> </a><li class="pSmartList2"><b class="cBold">To delete an entry from the list:</b> Click the entry that you want to delete, and then click <b class="cBold">Delete</b>. To select a block of entries, click the first entry, hold down the Shift key, and then click the final entry in the block. To select individual entries, press the Ctrl key while clicking each entry. To de-select an entry, press the Ctrl key while clicking the entry.</li>
</ul></div>
</ol></div>
<a name="wp1076374"> </a><h3 class="pHeading3">
<b class="cBold">Assigning static IP addresses by entering devices manually</b>
</h3>
<a name="wp1076438"> </a><p class="pBody">
In the <em class="cEmphasis">Static IP Address</em> section, add or edit entries as needed. Remember that the 
settings are not saved until you click the Save button.

</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1079579"> </a><li class="pSmartList1"><b class="cBold">To add a new device to the list: </b>Enter the following information, and then 
click <b class="cBold">Add to list</b>.
</li>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1076376"> </a><li class="pSmartList2"><b class="cBold">Static IP Address:</b> Enter the static IP address. You can enter 0.0.0.0 if you want the router to assign a static IP address to the device.</li>
<a name="wp1076377"> </a><li class="pSmartList2"><b class="cBold">MAC Address:</b> Enter the MAC address of the device. (Typically the MAC address appears on a label on the bottom panel or the back panel of a device.) Enter the address without punctuation.</li>
<a name="wp1076378"> </a><li class="pSmartList2"><b class="cBold">Name:</b> Enter a descriptive name for the device.</li>
<a name="wp1076379"> </a><li class="pSmartList2"><b class="cBold">Enable:</b> Check this box to assign the static IP address to this device.</li>
</ul></div>
<a name="wp1079668"> </a><li class="pSmartList1"><b class="cBold">To add another new entry: </b>Enter the information, and then click <b class="cBold">Add to list</b>.
</li>
<a name="wp1076441"> </a><li class="pSmartList1"><b class="cBold">To modify the settings: </b>Click a device in the list. The information appears in 
the text fields. Make the changes, and then click <span style="font-weight: bold">Update</span>. If you do not need 
to make changes, you can click <b class="cBold">Add New</b> to de-select the entry and clear 
the text fields.
</li>
<a name="wp1086662"> </a><li class="pSmartList1"><b class="cBold">To delete an entry from the list:</b> Click the entry that you want to delete, and 
then click <b class="cBold">Delete</b>. To select a block of entries, click the first entry, hold down 
the Shift key, and then click the final entry in the block. To select individual 
entries, press the Ctrl key while clicking each entry. To de-select an entry, 
press the Ctrl key while clicking the entry.
</li>
</ul></div>
<a name="wp1076685"> </a><h3 class="pHeading3">
Using the Static IP List to Block Devices
</h3>
<a name="wp1076686"> </a><p class="pBody">
You can use the <em class="cEmphasis">Static IP list</em> to control access to your network. You can block 
access by devices that are not on the list or do not have the correct IP address.

</p>
<div class="pSmartList1"><ol type="1" class="pSmartList1">
<a name="wp1084878"> </a><li class="pSmartList1">Add devices to the <em class="cEmphasis">Static IP list</em> as described in <a href="#wp1076163">Static IP Addresses</a>.
</li>
<a name="wp1084879"> </a><li class="pSmartList1">Enable or disable the following features:
</li>
<a name="wp1084880"> </a><li class="pSmartList1"><b class="cBold">Block MAC address on the list with wrong IP address: </b>Check this box to 
prevent a computer from accessing your network if its IP address has been 
changed. For example, if you previously assigned a static IP address of 
192.168.1.100 and someone configures the device to use 192.168.149, the 
device will not be allowed to connect to your network. This feature 
discourages users from changing their device IP addresses without your 
permission. Uncheck the box to allow access regardless of the current IP 
address assignment. 
</li>
<a name="wp1049672"> </a><li class="pSmartList1"><b class="cBold">Block MAC address not on the list: </b>Check this box to block access from 
devices that are not included in the <em class="cEmphasis">Static IP list</em>. This feature prevents 
unknown devices from accessing your network. Uncheck the box to allow 
access by any connected device that is configured with an IP address in the 
correct range.
</li>
</ol></div>
<a name="wp1076804"> </a><h2 class="pHeading2">
DNS Local Database
</h2>
<a name="wp1077275"> </a><p class="pBody">
Domain Name Service (DNS) is a service that matches a domain name to its 
routable IP address. You can set up a DNS Local Database that enables the router 
to act as a local DNS server for commonly used domain names. Using a local 
database may be faster than using an external DNS server. If a requested domain 
name is not found in the local database, then the request is forwarded to the DNS 
server that is specified on the <em class="cEmphasis">Setup &gt; Network </em>page, <em class="cEmphasis">WAN Setting</em> section.

</p>
<a name="wp1077691"> </a><p class="pBody">
If you enable this feature, you also must configure the client devices to use the 
router as the DNS server. By default, Windows computers are set to obtain a DNS 
server address automatically, from the WAN settings. You need to change the 
TCP/IP connection settings. For example, on a PC running Windows, go to the 
<em class="cEmphasis">Local Area Connection Properties &gt; Internet Protocol &gt; TCP/IP Properties</em> 
window. Choose <em class="cEmphasis">Use the following DNS server address</em>, and then enter the LAN 
IP address of the router as the Preferred DNS Server. For more information, refer 
to the documentation for the client that you are configuring.

</p>
<a name="wp1077363"> </a><p class="pBody">
Add or update entries as needed. Remember that the settings are not saved until 
you click the Save button.

</p>
<div class="pSmartList1"><ul class="pSmartList1">
<a name="wp1079746"> </a><li class="pSmartList1"><b class="cBold">To add a new entry:</b> Enter the following information. Then click <b class="cBold">Add to list</b>.
</li>
<div class="pSmartList2"><ul class="pSmartList2">
<a name="wp1077364"> </a><li class="pSmartList2"><b class="cBold">Host Name: </b>Enter the domain name, such as <em class="cEmphasis">example.com</em> or <em class="cEmphasis">example.org</em>. If you do not include the final level of the domain name, Microsoft Windows� will automatically append your entry with <em class="cEmphasis">.com</em>.</li>
<a name="wp1077396"> </a><li class="pSmartList2"><b class="cBold">IP Address</b>: Enter the IP address of the resource.</li>
</ul></div>
<a name="wp1079807"> </a><li class="pSmartList1"><b class="cBold">To add another new entry: </b>Enter the information, and then click <b class="cBold">Add to list</b>.
</li>
<a name="wp1077758"> </a><li class="pSmartList1"><b class="cBold">To modify the settings for a device: </b>Click a device in the list. The 
information appears in the text fields. Make the changes, and then click 
<span style="font-weight: bold">Update</span>. If you do not need to make changes, you can click <b class="cBold">Add New</b> to de-
select the entry and clear the text fields.
</li>
<a name="wp1085746"> </a><li class="pSmartList1"><b class="cBold">To delete an entry from the list:</b> Click the entry that you want to delete, and 
then click <b class="cBold">Delete</b>. To select a block of entries, click the first entry, hold down 
the Shift key, and then click the final entry in the block. To select individual 
entries, press the Ctrl key while clicking each entry. To de-select an entry, 
press the Ctrl key while clicking the entry.
</li>
</ul></div>
 

    </blockquote>

  </body>
</html>
